import productOrNoir from "@/assets/product-or-noir.jpg";
import productTresor from "@/assets/product-tresor.jpg";
import productNectar from "@/assets/product-nectar.jpg";
import productVelvet from "@/assets/product-velvet.jpg";

export type ProductCategory = "fleur" | "resine";

export interface Product {
  id: string;
  name: string;
  subtitle: string;
  description: string;
  price: number;
  cbdPercentage: string;
  image: string;
  terpenes: { boise: number; fruite: number; epice: number; terreux: number };
  mood: string;
  category: ProductCategory;
  intentionMatch: string[];
  tasteMatch: string[];
}

// 20 Fleurs CBD
export const flowers: Product[] = [
  {
    id: "or-noir",
    name: "L'Or Noir",
    subtitle: "Collection Signature",
    description: "Une variété d'exception aux reflets dorés, offrant des notes profondes de pin et de citron.",
    price: 12,
    cbdPercentage: "18%",
    image: productOrNoir,
    terpenes: { boise: 90, fruite: 30, epice: 25, terreux: 85 },
    mood: "Relaxation",
    category: "fleur",
    intentionMatch: ["detente"],
    tasteMatch: ["boise"],
  },
  {
    id: "tresor-oublie",
    name: "Trésor Oublié",
    subtitle: "Édition Limitée",
    description: "Un héritage génétique rare, aux arômes complexes de fruits rouges et d'épices orientales.",
    price: 15,
    cbdPercentage: "22%",
    image: productTresor,
    terpenes: { boise: 40, fruite: 95, epice: 60, terreux: 35 },
    mood: "Créativité",
    category: "fleur",
    intentionMatch: ["creativite"],
    tasteMatch: ["fruite"],
  },
  {
    id: "velvet-crown",
    name: "Velvet Crown",
    subtitle: "Indoor Premium",
    description: "Cultivée avec une attention méticuleuse, cette fleur veloutée révèle des notes subtiles de lavande.",
    price: 14,
    cbdPercentage: "20%",
    image: productVelvet,
    terpenes: { boise: 45, fruite: 55, epice: 85, terreux: 40 },
    mood: "Sérénité",
    category: "fleur",
    intentionMatch: ["sommeil"],
    tasteMatch: ["floral"],
  },
  {
    id: "brume-nocturne",
    name: "Brume Nocturne",
    subtitle: "Collection Nuit",
    description: "Une fleur enveloppante aux notes de cèdre et de sous-bois, parfaite pour les nuits profondes.",
    price: 13,
    cbdPercentage: "19%",
    image: productOrNoir,
    terpenes: { boise: 85, fruite: 25, epice: 30, terreux: 90 },
    mood: "Sommeil",
    category: "fleur",
    intentionMatch: ["sommeil"],
    tasteMatch: ["boise"],
  },
  {
    id: "aurore-boreale",
    name: "Aurore Boréale",
    subtitle: "Collection Énergie",
    description: "Une explosion d'agrumes et de fraîcheur pour démarrer vos journées avec éclat.",
    price: 14,
    cbdPercentage: "21%",
    image: productTresor,
    terpenes: { boise: 30, fruite: 95, epice: 45, terreux: 25 },
    mood: "Énergie",
    category: "fleur",
    intentionMatch: ["energie"],
    tasteMatch: ["fruite"],
  },
  {
    id: "jardin-secret",
    name: "Jardin Secret",
    subtitle: "Indoor Exclusive",
    description: "Un bouquet floral délicat aux notes de rose et de poivre blanc, pour éveiller votre créativité.",
    price: 16,
    cbdPercentage: "23%",
    image: productVelvet,
    terpenes: { boise: 35, fruite: 50, epice: 90, terreux: 30 },
    mood: "Créativité",
    category: "fleur",
    intentionMatch: ["creativite"],
    tasteMatch: ["floral"],
  },
  {
    id: "foret-emeraude",
    name: "Forêt Émeraude",
    subtitle: "Outdoor Bio",
    description: "Des notes de mousse et de terre humide, cultivée en pleine nature pour une authenticité pure.",
    price: 11,
    cbdPercentage: "17%",
    image: productOrNoir,
    terpenes: { boise: 80, fruite: 20, epice: 35, terreux: 95 },
    mood: "Méditation",
    category: "fleur",
    intentionMatch: ["creativite"],
    tasteMatch: ["boise"],
  },
  {
    id: "mangue-royale",
    name: "Mangue Royale",
    subtitle: "Collection Tropicale",
    description: "Une explosion de douceur tropicale, aux notes de mangue mûre et de fruits exotiques.",
    price: 15,
    cbdPercentage: "20%",
    image: productTresor,
    terpenes: { boise: 20, fruite: 98, epice: 35, terreux: 25 },
    mood: "Détente",
    category: "fleur",
    intentionMatch: ["detente"],
    tasteMatch: ["fruite"],
  },
  {
    id: "epice-orient",
    name: "Épices d'Orient",
    subtitle: "Collection Voyage",
    description: "Un voyage sensoriel aux notes de cannelle, cardamome et jasmin de nuit.",
    price: 17,
    cbdPercentage: "24%",
    image: productVelvet,
    terpenes: { boise: 40, fruite: 35, epice: 95, terreux: 45 },
    mood: "Détente",
    category: "fleur",
    intentionMatch: ["detente"],
    tasteMatch: ["floral"],
  },
  {
    id: "minuit-paris",
    name: "Minuit à Paris",
    subtitle: "Collection Urbaine",
    description: "Une fleur sophistiquée aux notes de café, chocolat noir et bois fumé.",
    price: 18,
    cbdPercentage: "25%",
    image: productOrNoir,
    terpenes: { boise: 75, fruite: 30, epice: 65, terreux: 80 },
    mood: "Énergie",
    category: "fleur",
    intentionMatch: ["energie"],
    tasteMatch: ["boise"],
  },
  {
    id: "rose-eternelle",
    name: "Rose Éternelle",
    subtitle: "Collection Florale",
    description: "Des pétales de rose sublimées par des notes poivrées, pour une expérience délicate.",
    price: 16,
    cbdPercentage: "22%",
    image: productVelvet,
    terpenes: { boise: 25, fruite: 60, epice: 85, terreux: 30 },
    mood: "Énergie",
    category: "fleur",
    intentionMatch: ["energie"],
    tasteMatch: ["floral"],
  },
  {
    id: "mystere-bleu",
    name: "Mystère Bleu",
    subtitle: "Édition Rare",
    description: "Une génétique unique aux reflets bleutés, notes de myrtille et de lavande sauvage.",
    price: 19,
    cbdPercentage: "26%",
    image: productTresor,
    terpenes: { boise: 35, fruite: 80, epice: 55, terreux: 40 },
    mood: "Sommeil",
    category: "fleur",
    intentionMatch: ["sommeil"],
    tasteMatch: ["fruite"],
  },
  {
    id: "terre-promise",
    name: "Terre Promise",
    subtitle: "Outdoor Premium",
    description: "Cultivée sur les terres les plus fertiles, aux notes de truffe et de bois de santal.",
    price: 14,
    cbdPercentage: "19%",
    image: productOrNoir,
    terpenes: { boise: 70, fruite: 25, epice: 45, terreux: 95 },
    mood: "Contemplation",
    category: "fleur",
    intentionMatch: ["energie"],
    tasteMatch: ["boise"],
  },
  {
    id: "cascade-fruits",
    name: "Cascade de Fruits",
    subtitle: "Collection Gourmande",
    description: "Un festival de saveurs fruitées, de la fraise à la cerise en passant par la framboise.",
    price: 15,
    cbdPercentage: "21%",
    image: productTresor,
    terpenes: { boise: 15, fruite: 100, epice: 25, terreux: 20 },
    mood: "Joie",
    category: "fleur",
    intentionMatch: ["creativite"],
    tasteMatch: ["fruite"],
  },
  {
    id: "zen-garden",
    name: "Zen Garden",
    subtitle: "Collection Asie",
    description: "L'harmonie parfaite entre le thé vert, le gingembre et les fleurs de cerisier.",
    price: 16,
    cbdPercentage: "22%",
    image: productVelvet,
    terpenes: { boise: 40, fruite: 55, epice: 75, terreux: 50 },
    mood: "Méditation",
    category: "fleur",
    intentionMatch: ["detente"],
    tasteMatch: ["floral"],
  },
  {
    id: "volcan-rouge",
    name: "Volcan Rouge",
    subtitle: "Collection Intense",
    description: "Une puissance contrôlée, aux notes de poivre rouge et de bois de cèdre brûlé.",
    price: 17,
    cbdPercentage: "24%",
    image: productOrNoir,
    terpenes: { boise: 85, fruite: 20, epice: 90, terreux: 70 },
    mood: "Force",
    category: "fleur",
    intentionMatch: ["energie"],
    tasteMatch: ["boise"],
  },
  {
    id: "nuage-violet",
    name: "Nuage Violet",
    subtitle: "Indoor Artisanal",
    description: "Des teintes violettes extraordinaires, aux notes de raisin noir et d'encens.",
    price: 18,
    cbdPercentage: "25%",
    image: productVelvet,
    terpenes: { boise: 50, fruite: 75, epice: 60, terreux: 55 },
    mood: "Rêverie",
    category: "fleur",
    intentionMatch: ["sommeil"],
    tasteMatch: ["fruite"],
  },
  {
    id: "souffle-dore",
    name: "Souffle Doré",
    subtitle: "Collection Prestige",
    description: "La perfection cristalline, aux notes de miel d'acacia et de fleurs blanches.",
    price: 20,
    cbdPercentage: "27%",
    image: productVelvet,
    terpenes: { boise: 30, fruite: 65, epice: 70, terreux: 35 },
    mood: "Élégance",
    category: "fleur",
    intentionMatch: ["creativite"],
    tasteMatch: ["floral"],
  },
  {
    id: "eclipse-totale",
    name: "Éclipse Totale",
    subtitle: "Édition Collector",
    description: "Une rareté absolue, aux notes mystérieuses de réglisse et de bois précieux.",
    price: 22,
    cbdPercentage: "28%",
    image: productOrNoir,
    terpenes: { boise: 95, fruite: 25, epice: 55, terreux: 85 },
    mood: "Mystère",
    category: "fleur",
    intentionMatch: ["sommeil"],
    tasteMatch: ["boise"],
  },
  {
    id: "passion-celeste",
    name: "Passion Céleste",
    subtitle: "Collection Divine",
    description: "L'alliance parfaite du fruit de la passion, de la vanille et du safran.",
    price: 19,
    cbdPercentage: "26%",
    image: productTresor,
    terpenes: { boise: 25, fruite: 90, epice: 75, terreux: 30 },
    mood: "Passion",
    category: "fleur",
    intentionMatch: ["energie"],
    tasteMatch: ["fruite"],
  },
];

// 10 Résines / Rosin / Extractions / Moonrocks
export const resins: Product[] = [
  {
    id: "nectar-des-rois",
    name: "Nectar des Rois",
    subtitle: "Résine Prestige",
    description: "La quintessence de notre savoir-faire. Une résine dorée aux propriétés exceptionnelles.",
    price: 25,
    cbdPercentage: "45%",
    image: productNectar,
    terpenes: { boise: 70, fruite: 55, epice: 80, terreux: 90 },
    mood: "Méditation",
    category: "resine",
    intentionMatch: ["detente"],
    tasteMatch: ["boise"],
  },
  {
    id: "pollen-celeste",
    name: "Pollen Céleste",
    subtitle: "Hash Premium",
    description: "Un pollen d'exception aux reflets ambrés, notes de miel sauvage et de noisette.",
    price: 22,
    cbdPercentage: "40%",
    image: productNectar,
    terpenes: { boise: 50, fruite: 85, epice: 40, terreux: 60 },
    mood: "Douceur",
    category: "resine",
    intentionMatch: ["creativite"],
    tasteMatch: ["fruite"],
  },
  {
    id: "diamant-noir",
    name: "Diamant Noir",
    subtitle: "Rosin Live",
    description: "Une extraction pure sans solvant, aux notes intenses de pin et de citron vert.",
    price: 35,
    cbdPercentage: "65%",
    image: productNectar,
    terpenes: { boise: 75, fruite: 60, epice: 50, terreux: 80 },
    mood: "Intensité",
    category: "resine",
    intentionMatch: ["energie"],
    tasteMatch: ["boise"],
  },
  {
    id: "moonrock-imperial",
    name: "Moonrock Impérial",
    subtitle: "Triple Concentration",
    description: "Fleur infusée d'huile et roulée dans le kief, une puissance inégalée.",
    price: 40,
    cbdPercentage: "70%",
    image: productNectar,
    terpenes: { boise: 60, fruite: 70, epice: 85, terreux: 75 },
    mood: "Puissance",
    category: "resine",
    intentionMatch: ["sommeil"],
    tasteMatch: ["floral"],
  },
  {
    id: "beurre-marrakech",
    name: "Beurre de Marrakech",
    subtitle: "Hash Traditionnel",
    description: "Fabriqué selon les méthodes ancestrales, aux notes de terre chaude et d'épices.",
    price: 20,
    cbdPercentage: "38%",
    image: productNectar,
    terpenes: { boise: 65, fruite: 35, epice: 90, terreux: 85 },
    mood: "Tradition",
    category: "resine",
    intentionMatch: ["detente"],
    tasteMatch: ["floral"],
  },
  {
    id: "cristal-alpin",
    name: "Cristal Alpin",
    subtitle: "Isolat Premium",
    description: "La pureté absolue, un cristal de CBD à 99%, notes neutres et pures.",
    price: 45,
    cbdPercentage: "99%",
    image: productNectar,
    terpenes: { boise: 10, fruite: 10, epice: 10, terreux: 10 },
    mood: "Pureté",
    category: "resine",
    intentionMatch: ["energie"],
    tasteMatch: ["boise"],
  },
  {
    id: "caramel-soleil",
    name: "Caramel du Soleil",
    subtitle: "Résine Douce",
    description: "Une texture onctueuse aux notes de caramel, vanille et fruits confits.",
    price: 24,
    cbdPercentage: "42%",
    image: productNectar,
    terpenes: { boise: 30, fruite: 95, epice: 45, terreux: 40 },
    mood: "Gourmandise",
    category: "resine",
    intentionMatch: ["sommeil"],
    tasteMatch: ["fruite"],
  },
  {
    id: "temple-indien",
    name: "Temple Indien",
    subtitle: "Charas Artisanal",
    description: "Roulé à la main selon la tradition himalayenne, notes de santal et cardamome.",
    price: 28,
    cbdPercentage: "48%",
    image: productNectar,
    terpenes: { boise: 55, fruite: 40, epice: 95, terreux: 70 },
    mood: "Spiritualité",
    category: "resine",
    intentionMatch: ["creativite"],
    tasteMatch: ["floral"],
  },
  {
    id: "wax-platine",
    name: "Wax Platine",
    subtitle: "Extraction BHO",
    description: "Une concentration extrême aux textures cireuses, notes de citron et de menthe.",
    price: 38,
    cbdPercentage: "60%",
    image: productNectar,
    terpenes: { boise: 40, fruite: 80, epice: 55, terreux: 45 },
    mood: "Fraîcheur",
    category: "resine",
    intentionMatch: ["energie"],
    tasteMatch: ["fruite"],
  },
  {
    id: "shatter-obsidienne",
    name: "Shatter Obsidienne",
    subtitle: "Extraction Pure",
    description: "Une transparence parfaite comme le verre, aux notes pures de cannabis et de terre.",
    price: 42,
    cbdPercentage: "68%",
    image: productNectar,
    terpenes: { boise: 85, fruite: 30, epice: 60, terreux: 90 },
    mood: "Clarté",
    category: "resine",
    intentionMatch: ["sommeil"],
    tasteMatch: ["boise"],
  },
];

// Tous les produits combinés
export const allProducts: Product[] = [...flowers, ...resins];

// Produits vedettes pour la page d'accueil (4 produits variés)
export const featuredProducts: Product[] = [
  flowers.find(p => p.id === "or-noir")!,
  flowers.find(p => p.id === "tresor-oublie")!,
  resins.find(p => p.id === "nectar-des-rois")!,
  flowers.find(p => p.id === "velvet-crown")!,
];

// Fonction pour trouver la recommandation parfaite
export const getRecommendation = (intentionId: string, tasteId: string): Product => {
  // Chercher d'abord une correspondance exacte
  const exactMatch = allProducts.find(
    p => p.intentionMatch.includes(intentionId) && p.tasteMatch.includes(tasteId)
  );
  
  if (exactMatch) return exactMatch;
  
  // Sinon, correspondance par goût
  const tasteMatch = allProducts.find(p => p.tasteMatch.includes(tasteId));
  if (tasteMatch) return tasteMatch;
  
  // Par défaut
  return flowers[0];
};

// Matrice de recommandations unique pour chaque combinaison
export const recommendationMatrix: Record<string, Record<string, Product>> = {
  detente: {
    boise: flowers.find(p => p.id === "or-noir")!,
    fruite: flowers.find(p => p.id === "mangue-royale")!,
    floral: flowers.find(p => p.id === "epice-orient")!,
  },
  creativite: {
    boise: flowers.find(p => p.id === "foret-emeraude")!,
    fruite: flowers.find(p => p.id === "tresor-oublie")!,
    floral: flowers.find(p => p.id === "jardin-secret")!,
  },
  sommeil: {
    boise: flowers.find(p => p.id === "brume-nocturne")!,
    fruite: flowers.find(p => p.id === "mystere-bleu")!,
    floral: flowers.find(p => p.id === "velvet-crown")!,
  },
  energie: {
    boise: flowers.find(p => p.id === "minuit-paris")!,
    fruite: flowers.find(p => p.id === "aurore-boreale")!,
    floral: flowers.find(p => p.id === "rose-eternelle")!,
  },
};

// Matrice de recommandations pour les résines
export const resinRecommendationMatrix: Record<string, Record<string, Product>> = {
  detente: {
    boise: resins.find(p => p.id === "nectar-des-rois")!,
    fruite: resins.find(p => p.id === "caramel-soleil")!,
    floral: resins.find(p => p.id === "beurre-marrakech")!,
  },
  creativite: {
    boise: resins.find(p => p.id === "diamant-noir")!,
    fruite: resins.find(p => p.id === "pollen-celeste")!,
    floral: resins.find(p => p.id === "temple-indien")!,
  },
  sommeil: {
    boise: resins.find(p => p.id === "shatter-obsidienne")!,
    fruite: resins.find(p => p.id === "caramel-soleil")!,
    floral: resins.find(p => p.id === "moonrock-imperial")!,
  },
  energie: {
    boise: resins.find(p => p.id === "cristal-alpin")!,
    fruite: resins.find(p => p.id === "wax-platine")!,
    floral: resins.find(p => p.id === "temple-indien")!,
  },
};
